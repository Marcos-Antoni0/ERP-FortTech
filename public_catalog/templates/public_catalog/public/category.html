{% extends 'public_catalog/public/base_public.html' %}

{% block content %}
<div class="skeleton-grid mb-4">
    <div class="skeleton-card"></div>
    <div class="skeleton-card"></div>
    <div class="skeleton-card"></div>
</div>

<div class="catalog-content">
<div class="mb-4">
    <h4>{{ category.category.name }}</h4>
    <p class="text-muted">{{ category.description_public|default:category.category.description }}</p>
</div>

<div class="mb-4">
    <form method="get" class="d-flex gap-2">
        <input class="form-control" type="text" name="q" placeholder="Buscar produtos" value="{{ search_query }}">
        <button class="btn btn-primary" type="submit">Buscar</button>
    </form>
</div>

<div
    class="row infinite-scroll"
    data-base-url="{{ current_path }}"
    data-next-page="{% if page_obj and page_obj.has_next %}{{ page_obj.next_page_number }}{% endif %}"
    data-has-next="{% if page_obj and page_obj.has_next %}1{% else %}0{% endif %}"
>
    {% include 'public_catalog/public/_product_cards.html' with products=products settings=settings slug=slug show_cart_action=True empty_message='Nenhum produto dispon√≠vel nesta categoria.' %}
</div>
<div class="infinite-scroll-sentinel"></div>
</div>
{% endblock content %}
